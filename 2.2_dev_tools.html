<!doctype html>
<html class="no-js" lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>
    
  开发调试工具介绍 - Elastic 搜索开发实战
  
  </title>
 <meta name="description" content="Elastic 搜索开发实战，图书">
 <link href="atom.xml" rel="alternate" title="Elastic 搜索开发实战" type="application/atom+xml">
    <link rel="stylesheet" href="asset/css/foundation.min.css" />
    <link rel="stylesheet" href="asset/css/docs.css" />

    <script src="asset/js/vendor/modernizr.js"></script>
    <script src="asset/js/vendor/jquery.js"></script>
    <script src="asset/highlightjs/highlight.pack.js"></script>
    <link href="asset/highlightjs/styles/github.css" media="screen, projection" rel="stylesheet" type="text/css">
    <script>hljs.initHighlightingOnLoad();</script>
    
  </head>
  <body class="antialiased hide-extras">
    
    <div class="marketing off-canvas-wrap" data-offcanvas>
      <div class="inner-wrap">


<nav class="top-bar docs-bar hide-for-small" data-topbar>

<div id="header">
    <h1><a href="index.html">Elastic 搜索开发实战</a> <div style="float: right;"><a class="github-button" href="https://github.com/medcl/book-elastic-search-in-action" data-size="large" data-show-count="true" aria-label="Star medcl/book-elastic-search-in-action on GitHub">Star</a></div></h1>
</div>

</nav>
        <nav class="tab-bar show-for-small">
  <a href="javascript:void(0)" class="left-off-canvas-toggle menu-icon">
    <span> &nbsp; Elastic 搜索开发实战</span>
  </a>
</nav>

<aside class="left-off-canvas-menu">
      <ul class="off-canvas-list">
      <li><a href="index.html">Home</a></li>

		 

      
        <li class="divider"></li>             
          
              
                <li><a title="前言" href="1.0_preface.html">前言</a></li> 
              
          
              
                <li class="sub_nav"><a title="谁应该读这本书" href="1.1_who_should_read_this_book.html">谁应该读这本书</a></li>
              
          
              
                <li class="sub_nav"><a title="本书结构" href="1.2_book_strcture.html">本书结构</a></li>
              
          
              
                <li class="sub_nav"><a title="思维导图" href="1.3_mindmap.html">思维导图</a></li>
              
          
              
                <li class="sub_nav"><a title="软件版本" href="1.4_soft_version.html">软件版本</a></li>
              
          

      
        <li class="divider"></li>             
          
              
                <li><a title="基础准备" href="2.0_basic_concept.html">基础准备</a></li> 
              
          
              
                <li class="sub_nav"><a title="安装使用 Elasticsearch" href="2.1_install_elasticsearch.html">安装使用 Elasticsearch</a></li>
              
          
              
                <li class="sub_nav"><a title="开发调试工具介绍" href="2.2_dev_tools.html">开发调试工具介绍</a></li>
              
          
              
                <li class="sub_nav"><a title="常用 API 介绍" href="2.3_elasticsearch_basic_api.html">常用 API 介绍</a></li>
              
          

      
      </ul>

 <div>
 	<br/>
 	&nbsp;&nbsp; <a class="github-button" href="https://github.com/medcl/book-elastic-search-in-action" data-size="large" data-show-count="true" aria-label="Star medcl/book-elastic-search-in-action on GitHub">Star</a></div>

    </aside>

<a class="exit-off-canvas" href="#"></a>

        <section id="main-content" role="main" class="scroll-container">

          <div class="row">
            <div class="large-3 medium-3 columns">
              <div class="hide-for-small">
                <div class="sidebar">
                <nav>
                  <ul id="side-nav" class="side-nav">
					 

                    
                    

                        
                          <li class="side-title"><span><a title="前言" href="1.0_preface.html">前言</a></span></li>
                                      

                        

                        
                          <li><a title="谁应该读这本书" href="1.1_who_should_read_this_book.html">谁应该读这本书</a></li>
                                      

                        

                        
                          <li><a title="本书结构" href="1.2_book_strcture.html">本书结构</a></li>
                                      

                        

                        
                          <li><a title="思维导图" href="1.3_mindmap.html">思维导图</a></li>
                                      

                        

                        
                          <li><a title="软件版本" href="1.4_soft_version.html">软件版本</a></li>
                                      

                        

                    
                    

                        
                          <li class="side-title"><span><a title="基础准备" href="2.0_basic_concept.html">基础准备</a></span></li>
                                      

                        

                        
                          <li><a title="安装使用 Elasticsearch" href="2.1_install_elasticsearch.html">安装使用 Elasticsearch</a></li>
                                      

                        

                        
                          <li><a title="开发调试工具介绍" href="2.2_dev_tools.html">开发调试工具介绍</a></li>
                                      

                        

                        
                          <li><a title="常用 API 介绍" href="2.3_elasticsearch_basic_api.html">常用 API 介绍</a></li>
                                      

                        

                    
                  </ul>
                </nav>
                </div>
              </div>
            </div>
            <div class="large-9 medium-9 columns">

 <div class="markdown-body">
<h1>开发调试工具介绍</h1>

<blockquote>
<p>工欲善其事必先利其器！</p>
</blockquote>

<p>这一节主要介绍一下后续开发过程中，需要用的一些工具。</p>

<p>Elasticsearch 的接口是 RESTful 风格，也就是标准的 HTTP 请求，如果是 Windows 环境，推荐使用 <a href="(https://www.telerik.com/fiddler)">Fiddler</a> 来进行 HTTP 请求的调试，使用起来非常方便，Fiddler 现在虽然也提供多个平台的支持，但是需要依赖 Mono 环境，有兴趣的同学可以自行研究，此处不展开。<br/>
下载地址：<a href="https://www.telerik.com/fiddler">https://www.telerik.com/fiddler</a>。</p>

<p>还可以使用基于浏览器的 HTTP 请求构造器，如 Chrome 的 <a href="https://chrome.google.com/webstore/detail/postman/fhbjgbiflinjbdggehcddcbncdddomop?hl=zh-CN">PostMan 扩展</a> 就很不错。<br/>
安装地址：<a href="https://chrome.google.com/webstore/detail/postman/fhbjgbiflinjbdggehcddcbncdddomop?hl=zh-CN">https://chrome.google.com/webstore/detail/postman/fhbjgbiflinjbdggehcddcbncdddomop?hl=zh-CN</a> </p>

<p>不过，我们今天主要介绍的是另外一款更加好用的工具，就是 Kibana，没错，就是 Elastic Stack 里面的 Kibana，Kibana 不仅是一个功能强大的大数据可视化实时分析平台，同时也是 Elastic Stack 管理的窗口，Kibana 里面包含了很多跟 Elastic Stack 管理相关的功能和 App，你可以很方便的使用，比如可以通过 Dev-Tools 来进行 RESTful 请求的构造。更重要的是 Kibana 是跨平台的，是基于 Web 浏览器的，可以方便的在任何地方远程访问，使用起来更加方便。</p>

<p>下面，让我们来看一下具体如何使用吧。</p>

<p>打开 Kibana 下载页面：<a href="https://www.elastic.co/downloads/kibana">https://www.elastic.co/downloads/kibana</a>，选择我们操作系统所在平台和对应的版本，注意 Kibana 的版本和 Elasticsearch 版本要保持一致，这里也选择 <code>6.2.4</code>，我这里是 Mac 系统，点击链接会自动下载一个 tar.gz 的压缩包。</p>

<p><img src="media/15276926423725/15277809414561.jpg" alt=""/></p>

<p>解压之后，可以看到程序的目录结构如下：</p>

<p><img src="media/15276926423725/15277809990227.jpg" alt=""/></p>

<p>我们来分别解读一下吧。<br/>
bin 目录下面的是可执行程序:</p>

<ul>
<li>kibana 是程序主入口。</li>
<li>kibana-keystore 用于设置密钥信息。</li>
<li>kibana-plugin 用于插件的安装和卸载。</li>
</ul>

<p>config 目录下面只有一个文件，<code>kibana.yml</code> 是我们的主要配置文件。</p>

<p>其他目录我们平时不用管，这里就不介绍了。</p>

<p>假设我们已经启动了 Elasticsearch，运行在本地，监听的地址是本地 <code>localhost</code>，端口默认的 <code>9200</code>，现在我们在本地启动 Kibana 来进行使用。</p>

<p>打开配置文件 <code>config/kibana.yml</code>，里面有很多的设置，不过现在我们只需要关心 Elasticsearch 的相关配置就好，如下：</p>

<pre><code class="language-yaml">#elasticsearch.url: &quot;http://localhost:9200&quot;
#elasticsearch.username: &quot;user&quot;
#elasticsearch.password: &quot;pass&quot;
</code></pre>

<p>因为 Elasticsearch 和 Kibana 都是安装在同一台机器上，所以其实也不用修改配置，保持默认就好，配置前的 <code>#</code> 表示该行配置被注释了，如果两者是分开部署的，则需要调整对应的 Elasticsearch 服务器 IP 和用户认证信息，修改后记得去掉注释哦。</p>

<p>下一步，我们启动 Kibana，切换到 Kibana 目录，执行 <code>bin/kibana</code> 程序启动即可，如下图：</p>

<p><img src="media/15276926423725/15277814388479.jpg" alt=""/></p>

<p>从上面的启动信息可以看到，Kibana 启动成功，默认监听的端口是 <code>5601</code>，我们用浏览器打开 <code>http://localhost:5601</code> 查看一下。</p>

<p><img src="media/15276926423725/15277816760042.jpg" alt=""/></p>

<p>可以看到 Kibana 进去之后，呈现在我们眼前的是她的一个欢迎界面，有很多的程序入口，接下来我给大家一一介绍他们分别是什么。</p>

<p>首先，我们看一下，最左侧的导航，分别是多个不同的 App 入口，在 Kibana 里面，每一个 App 代表一个完整的功能集合，我们先打开 <code>Dev Tools</code> App，如下图：</p>

<p><img src="media/15276926423725/15278399289305.jpg" alt=""/></p>

<p>就是一个 Console 窗口，非常简单，左边是输入框，可以输入提交给 Elasticserch 的查询，右边是返回结果显示的地方。</p>

<p>还记得上一篇我们用到的创建索引的 curl 请求么，我们将它粘贴进来，你会发现它自动变简洁了，只剩下最核心的 HTTP 请求类型、 数据路径和数据，点击右侧绿色的三角形按钮，就可以立即执行这个 POST 请求，请求的响应返回数据显示在右侧的窗口，如下图所示：</p>

<p><img src="media/15276926423725/15278400220267.jpg" alt=""/></p>

<p>反过来，如果对这段请求进行了修改，想要拷贝到终端下面执行，或是到其他服务器上面执行，只需要点击工具按钮，选择 <code>Copy as cURL</code> 即可得到标准的 curl 命令，如下图：</p>

<p><img src="media/15276926423725/15278419236608.jpg" alt=""/></p>

<p>怎么样，是不是比直接用 cURL 要简单和方便很多，另外，这里面输入命令还支持自动补全，完全不用死记硬背 Elasticsearch 的查询语法和担心写错。</p>

<p>Kibana 还支持数据的搜索和可视化操作，在使用之前，我们需要在这里设置索引数据的 Index Pattern，Index Pattern 可以理解为我们要操作的数据源，支持设置完整的索引名，也支持通过通配符来指定一批索引， 我们首先打开 <code>Management</code> App，如下图：</p>

<p><img src="media/15276926423725/15277822312445.jpg" alt=""/></p>

<p>这里我们设置刚刚创建索引时，使用的索引名 <code>index</code> 作为 index pattern，如下图：</p>

<p><img src="media/15276926423725/15278422140446.jpg" alt=""/></p>

<p>点击下一步，预览设置然后完成创建，如下图：</p>

<p><img src="media/15276926423725/15278422701883.jpg" alt=""/></p>

<p>创建成功后，会返回该索引的 mapping 信息，可以看到索引里面的字段和字段的类型，如下图：</p>

<p><img src="media/15276926423725/15278423233079.jpg" alt=""/></p>

<p>不同的字段有不同的数据类型，对应能够执行的操作也就不一样，标记为 <code>searchable</code> 表示该字段可被用于全文搜索，标记为 <code>aggregatable</code> 表示该字段可以被用于聚合计算。</p>

<p>接下里，我们再来看一下 <code>Discover</code> 这个 App，如下图：</p>

<p><img src="media/15276926423725/15278425779341.jpg" alt=""/></p>

<p>可以看到，它是我们浏览 Elasticsearch 索引数据的地方，你也可以在这里进行按关键字进行全文搜索和进行数据的过滤。</p>

<p>除此以外，<code>Visualize</code>、<code>Dashboard</code> 和 <code>Timelion</code> 等 App 是我们用来对 Elasticsearch 里面的数据进行可视化分析的地方，我们在这里就不展开了，有兴趣的读者可以自行查看<a href="https://www.elastic.co/guide/en/kibana/current/index.html">官网手册</a>和相关资料。</p>


</div>

<br /><br />
<hr />

<div class="row clearfix">
  <div style="width:50%;float:left;padding-left: 15px;">
	<div class="text-left" style="padding:15px 0px;">
		
	        <a href="2.1_install_elasticsearch.html"  title="Previous Post: 安装使用 Elasticsearch">&laquo; 安装使用 Elasticsearch</a>
	    
	</div>
  </div>
  <div style="width:50%;float:right;padding-right: 15px;">
	<div class="text-right" style="padding:15px 0px;">
		
	        <a href="2.3_elasticsearch_basic_api.html" 
	        title="Next Post: 常用 API 介绍">常用 API 介绍 &raquo;</a>
	    
	</div>
  </div>
</div>

<div class="row">
<div style="padding:0px 0.93em;" class="share-comments">
<div id="disqus_thread"></div>
<script>

/**
*  RECOMMENDED CONFIGURATION VARIABLES: EDIT AND UNCOMMENT THE SECTION BELOW TO INSERT DYNAMIC VALUES FROM YOUR PLATFORM OR CMS.
*  LEARN WHY DEFINING THESE VARIABLES IS IMPORTANT: https://disqus.com/admin/universalcode/#configuration-variables*/
/*
var disqus_config = function () {
this.page.url = PAGE_URL;  // Replace PAGE_URL with your page's canonical URL variable
this.page.identifier = PAGE_IDENTIFIER; // Replace PAGE_IDENTIFIER with your page's unique identifier variable
};
*/
(function() { // DON'T EDIT BELOW THIS LINE
var d = document, s = d.createElement('script');
s.src = 'https://elastic-sou-suo-kai-fa-shi-zhan.disqus.com/embed.js';
s.setAttribute('data-timestamp', +new Date());
(d.head || d.body).appendChild(s);
})();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>

                            

</div>
</div>
<script type="text/javascript">
	$(function(){
		var currentURL = '2.2_dev_tools.html';
		$('#side-nav a').each(function(){
			if($(this).attr('href') == currentURL){
				$(this).parent().addClass('active');
			}
		});
	});
</script>  
</div></div>


<div class="page-bottom">
  <div class="row">
  <hr />
  <div class="small-9 columns">
  <p class="copyright">Copyright &copy; 2018 <a target="_blank" href="http://medcl.com">Medcl</a>. 未经许可,谢绝转载.</p>
  </div>
  <div class="small-3 columns">
  <p class="copyright text-right"><a href="#header">TOP</a></p>
  </div>
   
  </div>
</div>

        </section>
      </div>
    </div>
    
    
    <script src="asset/js/foundation.min.js"></script>
    <script src="asset/js/foundation/foundation.offcanvas.js"></script>
    



    <script>
      $(document).foundation();

     
    </script>
    <script src="asset/chart/all-min.js"></script><script type="text/javascript">$(function(){    var mwebii=0;    var mwebChartEleId = 'mweb-chart-ele-';    $('pre>code').each(function(){        mwebii++;        var eleiid = mwebChartEleId+mwebii;        if($(this).hasClass('language-sequence')){            var ele = $(this).addClass('nohighlight').parent();            $('<div id="'+eleiid+'"></div>').insertAfter(ele);            ele.hide();            var diagram = Diagram.parse($(this).text());            diagram.drawSVG(eleiid,{theme: 'simple'});        }else if($(this).hasClass('language-flow')){            var ele = $(this).addClass('nohighlight').parent();            $('<div id="'+eleiid+'"></div>').insertAfter(ele);            ele.hide();            var diagram = flowchart.parse($(this).text());            diagram.drawSVG(eleiid);        }    });});</script>
<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script><script type="text/x-mathjax-config">MathJax.Hub.Config({TeX: { equationNumbers: { autoNumber: "AMS" } }});</script>

    <!-- Place this tag in your head or just before your close body tag. -->
    <script async defer src="https://buttons.github.io/buttons.js"></script>
    <script id="dsq-count-scr" src="//elastic-sou-suo-kai-fa-shi-zhan.disqus.com/count.js" async></script>
    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-120597990-1"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'UA-120597990-1');
    </script>
  </body>
</html>
